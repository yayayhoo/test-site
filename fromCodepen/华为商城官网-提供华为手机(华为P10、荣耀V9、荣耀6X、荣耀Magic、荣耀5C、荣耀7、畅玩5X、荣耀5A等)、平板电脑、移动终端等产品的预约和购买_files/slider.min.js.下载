"use strict";var Slider=function(a){this.i=0;this.objid=a.objid||null;this.preclassname=a.preclassname||".btn-prev";this.nextclassname=a.nextclassname||".btn-next";this.listname=a.listname||".grid-list";this.listitem=a.listitem||"li";this.shownum=a.shownum||5.5;this.type=a.type||1;this.autoplay=a.autoplay||false};Slider.prototype={init:function(){var b=this;var a=b.set();if(b.autoplay){b.auto(a)}else{b.next(a);b.pre(a)}},auto:function(e){var d=this,c=null;$(d.listname).find(d.listitem).eq(0).clone().appendTo(d.listname);e.len+=1;var b=(e.itemHeight)*(e.len-1),a=function(){d.i++;if(Math.abs(parseInt(e.$grid.css("margin-top")))==b){e.$grid.css("margin-top",0);d.i=1}e.$grid.animate({"margin-top":"-"+(d.i*e.itemHeight*d.shownum)+"px"},500)};if(d.autoplay){c=setInterval(a,2000);e.$grid.hover(function(){clearInterval(c)},function(){c=setInterval(a,2000)})}},set:function(){var d=this,g=$(d.objid+" "+d.listitem),i=$(d.objid+" "+d.listname),h=$(d.objid+" "+d.preclassname),b=$(d.objid+" "+d.nextclassname),e=g.length,f=g.outerWidth(),a=g.outerHeight(),c=Math.ceil(e/d.shownum);switch(d.type){default:case 1:i.css("width",(f+1)*e+"px");break;case 2:i.css("height",(a)*e+"px");break}return{$item:g,$grid:i,$pre:h,$next:b,len:e,itemWidth:f,itemHeight:a,num:c}},pre:function(b){var a=this;b.$pre.bind("click",function(){if($(this).hasClass("disabled")){return}a.i--;if(a.i-1<0){b.$pre.addClass("disabled")}b.$next.removeClass("disabled");switch(a.type){default:case 1:b.$grid.animate({"margin-left":a.i==0?0:parseInt(b.$grid.css("margin-left"))+(b.itemWidth*a.shownum)+"px"},500);break;case 2:b.$grid.animate({"margin-top":a.i==0?0:parseInt(b.$grid.css("margin-top"))+(b.itemHeight*a.shownum)+"px"},500)}})},next:function(b){var a=this;b.$next.bind("click",function(){if($(this).hasClass("disabled")){return}a.i++;b.$pre.removeClass("disabled");switch(a.type){default:case 1:if(a.shownum>1){if(a.i+1==b.num){var d=parseInt(b.$grid.css("margin-left"));var c=(b.len-((a.i)*parseInt(a.shownum))-1/2)*b.itemWidth;console.log(d-c);b.$grid.animate({"margin-left":d-c+"px"},500)}else{b.$grid.animate({"margin-left":"-"+(a.i*b.itemWidth*parseInt(a.shownum))+"px"},500)}}else{b.$grid.animate({"margin-left":"-"+(a.i*b.itemWidth*a.shownum)+"px"},500)}break;case 2:b.$grid.animate({"margin-top":"-"+(a.i*b.itemHeight*a.shownum)+"px"},500);break}if(a.i+1==b.num){b.$next.addClass("disabled")}})}};
